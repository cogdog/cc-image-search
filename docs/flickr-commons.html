<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <meta name="description" content="A simple bookmarklet tool for searching for public domain images in the Flickr Commons. Search selected text in any web page or enter keywords from whereever you are on the web.">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://cogdog.github.io/cc-image-search/flickr-commons.html">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Flickr Commons Search Bookmarklet">
  <meta property="og:description" content="A simple bookmarklet tool for searching for public domain images in the Flickr Commons. Search selected text in any web page or enter keywords from whereever you are on the web.">
  <meta property="og:image" content="https://cogdog.github.io/cc-image-search/flickr-commons-og.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="cogdog.github.io">
  <meta property="twitter:url" content="https://cogdog.github.io/cc-image-search/flickr-commons.html">
  <meta name="twitter:title" content="Flickr Commons Search Bookmarklet">
  <meta name="twitter:description" content="A simple bookmarklet tool for searching for public domain images in the Flickr Commons. Search selected text in any web page or enter keywords from whereever you are on the web.">
  <meta name="twitter:image" content="https://cogdog.github.io/cc-image-search/flickr-commons-og.jpg">

  <!-- Meta Tags Generated via https://www.opengraph.xyz -->



	<title>Flickr Commons Search Bookmarklet</title>

    <!-- Bootstrap and icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
    <!-- big fan of this favicon 
          Search by Wireform CC BY from NounProject.com
          https://thenounproject.com/icon/search-1107493/ -->
    <link rel="shortcut icon" type="image/png" href="cc-search.png"/>
    
	<!-- let the styling commence -->
	<link href="css/style.css" rel="stylesheet">

</head>
<body>
 <div class="container"> 
	<div class="jumbotron">
	  <h1 id="sitenane" class="display-4 text-center">Flickr Commons Bookmarklet</h1>
	  <p>This site offers a browser bookmarklet that triggers searches in <a href="https://www.flickr.com/commons" target="_blank">Flickr Commons</a> from any corner of the web. Searches can be started in two ways</p>
	
		<div class="row">
   	 		<div class="col-6  text-center">
   	 			<h3>Enter Key Words</h3> 
   	 			<p>Upon being called, the bookmarklet opens a dialog box to enter search terms. See the same effect with the button below!</p>
   	 		</div>
	  		<div class="col-6  text-center">
	  			<h3>Select Text</h3>
	  			<p>With the bookmarklet, select text in any web page, then click bookmarklet to trigger search. Try below   selecting any words in the box then click the button:</p>
	  		</div>
	  	</div>
	  	
	<div class="row align-items-center">
   	 	<div class="col-6  text-center">
   	 		<img width="378" height="150" alt="flickr commons search" src="flickr-commons-search.jpg" id="searchimg"> 	 		
   	  	</div>
   	  	
		<div class="col-6 text-center">
			<p id="funtext">ship library nasa japan olympus new york bain news band opera war officers pietown castle navy lunch wagon baseball usher auxiliary promenade cigar factory nurse field bridge general derby scotland hotel garden store farmer cornwall pyramid rodeo radio mayor control horse carriage hospital</p>
			
   		
		</div>
   	</div>
   	
   	<div class="row">
		<div class="col-6  text-center">
			<button type="button" class="btn btn-secondary btn-sm" id="keymode">Search for entered keywords</button>
		</div>
		<div class="col-6  text-center">
			 <button type="button" class="btn btn-secondary btn-sm" id="selectmode">Search for selected keywords</button>
		</div>
	</div>
   	
  
  	<div class="row" style="margin-top: 1em">
  		<div class="col-12 text-center">
  	
			<p>Make it your own! Drag button to your browser bookmark bar. Click and search away...</p>
		
		<p><a href="javascript:(function() {s=window.getSelection()+'';if(!s) s=prompt('Search FLickr Commons public domain licensed Images for...',''); if (s) w=window.open('https://www.flickr.com/search/?w=commons&q='+encodeURIComponent(s));})()" class="btn btn-primary btn-lg" id="marklet">Flickr Commons Search</a></p>
 		</div>
	</div>
	
	
 </div>
	
	<div id="footer" class="container-fluid text-center">
		<p>
		<!-- background image attribution -->
		<a href="https://www.flickr.com/commons">Image used at Flickr Commons</a> : <a href="https://flickr.com/photos/george/494545333">For Ben</a> flickr photo by <a href="https://flickr.com/people/george">George</a> shared under a <a href="https://creativecommons.org/licenses/by-nc-nd/2.0/">Creative Commons (BY-NC-ND) license</a><br />
		</p>
		
		<p>
		<!-- code credit, thanks for keeping -->
		code by <a href="http://cog.dog/"> @cogdog</a> and <a href="https://github.com/cogdog/cc-image-search">available on github</a>
		</p>
	</div>
</div>
<!--  JavaScript libs 
	   jQuery first, then Bootstrap JS, and finally Backstretch -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.1.18/jquery.backstretch.min.js" integrity="sha512-bXc1hnpHIf7iKIkKlTX4x0A0zwTiD/FjGTy7rxUERPZIkHgznXrN/2qipZuKp/M3MIcVIdjF4siFugoIc2fL0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <!-- custom scripts for the  machine -->
    <script>
    // backstrech the background image -->
    $.backstretch("flickr-commons.jpg");

	// set up the generate button
	$(document).ready(function(){	
	
		$( "#keymode" ).click(function() {
			s = prompt('Search FLickr Commons public domain licensed Images for...','');
			if (s) {
				window.open('https://www.flickr.com/search/?w=commons&q=' + encodeURIComponent(s), '_blank');
				}
		});	
		
		$( "#searchimg" ).click(function() {
			$( "#keymode" ).click();
		});
		
		$( "#selectmode" ).click(function() {
			// get selected text
			let selection = window.getSelection();
			// check if selection is in the permitted ID
			if (selection.anchorNode.parentNode.id == 'funtext') {
				window.open('https://www.flickr.com/search/?w=commons&q='+ encodeURIComponent(selection.toString()), '_blank');
			} else {
				alert('For this demo, selected text must be from the box, yes these are not the best terms!');

			}
		});
		
		
	});	
    
    </script>
</body>
</html>